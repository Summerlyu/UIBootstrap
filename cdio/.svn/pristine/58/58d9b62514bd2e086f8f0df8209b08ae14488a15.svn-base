<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%>
<%@ include file="/WEB-INF/jsps/common/taglibs.jsp"%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>知识加值上线服务平台</title>

	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<link href="image/main/favicon.ico" rel="shortcut icon" />
	<link href="css/common/welcome.css" media="screen" rel="stylesheet" type="text/css" />
</head>

<body>
	<div class="header">
		<div class="row">
			<div class="twelve vspans">
				<h1>
					<a href="#"><img alt="Logo" src="image/main/logo.png" /> </a>
				</h1>

				<ul class="nav right">
					<li class="help"><a href="#" class="featurette" data-featurette="modal-trigger"
						data-target="contact-form-modal" rel="nofollow">帮助</a>
					</li>
					<li><a href="#" class="featurette"  data-featurette="modal-trigger"
						data-target="login-modal">登录</a>
					</li>

					<li class="sign-up"><a href="#"
						class=" button gray featurette" data-featurette="modal-trigger"
						data-target="registe-modal">注册</a>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<div class="overlay"></div>
	<div class="container primary-content">
		<div class="row">
			<div class="six vspans">
				<div class="main-heading">
					<h1>知识加值线上服务管理平台</h1>
					<p class="subheading">Value-added On-line Service Management
						Platform -VOSMaP</p>
				</div>
				<a href="#" class="button green featurette"
					data-featurette="modal-trigger" data-mobile-fallback="doit"
					data-target="registe-modal">马上加入我们</a>

			</div>
			<div class="video six vspans">
				<img src="image/main/poster.jpg">
			</div>
		</div>
	</div>

	<div class="container secondary-content">
		<div class="row how-vosmap-works">
			<h2 class="ribbon" id="firestribbon">
				<span class="title">VOSMaP运作方式</span>
			</h2>
			<div class="four vspans learn">
				<div class="screencap">
					<img alt="Learn" src="image/main/learn-3d.png" /> <span
						class="icon"></span>
				</div>
				<h3>在线教学</h3>
				<p>在线与教师一对一视频教学。</p>
			</div>
			<hr class="row">
			<div class="four vspans practice">
				<div class="screencap">
					<img alt="Practice" src="image/main/practice.png" /> <span
						class="icon"></span>
				</div>
				<h3>在线测评</h3>
				<p>在线与教师一对一视频教学。</p>
			</div>
			<hr class="row">
			<div class="four vspans earn">
				<div class="screencap">
					<img alt="Earn" src="image/main/earn.png" /> <span class="icon"></span>
				</div>
				<h3>知识库</h3>
				<p>我们提供了知识库，你想要的资料也许就在里面。</p>
			</div>
		</div>

		<hr class="row">
		<div class="row stories">
			<h2 class="ribbon">
				<span class="title">成功案例</span>
			</h2>
			<div class="four vspans praise first">
				<div class="portrait">
					<a href="#"> <img alt=" " src="image/main/praise_zs.jpg" /> </a>
				</div>
				<blockquote>
					<strong>张晓志的进步</strong> <em>从一开始的英语班上倒几，经过培训后已经进入了班级前十了。</em> <a
						class="link" href="#">阅读相关资料</a>
				</blockquote>
			</div>
			<div class="four vspans praise first">
				<div class="portrait">
					<a href="#"> <img alt=" " src="image/main/praise_ls.jpg" /> </a>
				</div>
				<blockquote>
					<strong>李丽的进步</strong> <em>从一开始的数学班上倒几，经过培训后已经进入了班级前十了</em> <a
						class="link" href="#">阅读相关资料</a>
				</blockquote>
			</div>
			<div class="four vspans praise first">
				<div class="portrait">
					<a href="#"> <img alt=" " src="image/main/praise_ww.jpg" /> </a>
				</div>
				<blockquote>
					<strong>王小华的进步</strong> <em>从一开始的语文班上倒几，经过培训后已经进入了班级前十了</em> <a
						class="link" href="#">阅读相关资料</a>
				</blockquote>
			</div>
		</div>

		<hr class="row">
		<div class="row orgnisations">
			<div class="twelve vspans">
				<h3>VOSMaP 支持机构</h3>
				<img alt="Organization-badge"
					src="image/main/organization-badge.png" />
			</div>
		</div>

		<hr class="row">
		<div class="row bottom-sign-up">
			<div class="seven vspans">
				<h1>准备开启全新的学习之旅了吗?</h1>
				<a href="#" class="button green featurette"
					data-featurette="modal-trigger" data-mobile-fallback="doit"
					data-target="registe-modal">马上加入我们</a>
			</div>
			<div class="five vspans">
				<img alt="plane" src="image/main/plane.png"  id="img-plane"/>
			</div>
		</div>
	</div>


	<!-- footer -->
	<div class="footer">
		<div class="row">
			<div class="four vspans orgnisation">
				<img alt="Logo-footer" src="image/main/logo-footer.png" />
				<p>Our mission is to bring knowledge to students.</p>
			</div>

			<p class="light twelve vspans">&copy; Copyright@ CDIO
				2010Faculty of Software ,Fujian Normal University</p>

		</div>
	</div>


	<!-- 登录模态对话框 -->
	<div class="featurette modal three-quarter" data-featurette="modal"
		id="login-modal" style="display: none;" >
		<a class="modal-close cancel-modal" href="#"><span
			class="icon icon-close"></span> </a>
		<div class="contained">
			<div class="primary-heading">
				<h1>Log in</h1>
			</div>
		
			<s:form accept-charset="UTF-8" method="post">
				<div class="flush">
					<div class="module-set">

						<fieldset>
							<div class="form-item">
								<label for="user_name">用户名</label> 
							<input autofocus="autofocus" name="userInfo.userName" id="user_name" size="30" type="text" 
							/>
							</div>
						</fieldset>

						<fieldset>
							<div class="form-item">
								<label for="user_password">密 码</label>
								<input name="userInfo.password" id="user_password" size="30" type="password" 
								/>
							</div>
							<!-- 要显示信息的层 -->
    						<div id="message"></div>
						</fieldset>
			
						<p>
							<a href="forget"><span class="icon icon-help-mini"></span>忘记密码</a>
						</p>
					</div>
				</div>
				
				
				
				<div class="flush">
					<div class="form-footer">
						<input id="btnLogin" type="button" class="button button-large" value="登  录"/>
					</div>
				</div>
	
			</s:form>
					
		</div>
	</div>

	<!-- 注册模态对话框 -->
	<div class="featurette modal three-quarter" data-featurette="modal"
		id="registe-modal" style="display: none;">
		<a class="modal-close cancel-modal" href="#">
			<span class="icon icon-close"></span>
		</a>
		<div class="contained">
			<div class="primary-heading">
				<h1>Sign Up</h1>
			</div>
			<form accept-charset="UTF-8"  method="post">
				<div class="flush">
					<div class="module-set">

					<fieldset>
						<div class="form-item">
							<label for="user_name1">用户名</label>
							<input autofocus="autofocus" name="userResInfo.userName" id="user_name1" size="30" type="text"
							 dataType="Require" msg="用户名不能为空" />
						</div>
					</fieldset>

					<fieldset>
						<div class="form-item">
							<label for="user_email">邮  箱</label> 
							<input name="userResInfo.email" id="user_email" size="30" type="text"/>
						</div>
					</fieldset>

					<fieldset>
						<div class="form-item">
							<label for="user_password1">密  码</label>
							<input name="userResInfo.password" id="user_password1" size="30" type="password"/>
						</div>
						<!-- 要显示信息的层 -->
    					<div id="messageRes"></div>
					</fieldset>
					
					<div class="controls">
						<label class="radio inline"> 
							  <input value="学生" name="roleInfo.roleName" type="radio" checked="checked">学生
						</label>
						<label class="radio inline"> 
						 	 <input value="讲师" name="roleInfo.roleName" type="radio">讲师
						</label>
					</div>

					</div>
				</div>
				<div class="flush">
					<div class="form-footer">
						<input id="btnRegiste" type="button" class="button button-large" value="注  册"/>
					</div>
				</div>
			</form>
		</div>
	</div>

	<div class="modal-tarp" style="display: none;"></div>
	<script type="text/javascript" src="/cdio2010/js/common/jquery-1.8.3.min.js"></script>
	<script src="js/common/model.js" type="text/javascript"></script>
	<script type="text/javascript" >
		//初始加载页面
	$(document).ready(function() {
	  //为提交信息对象按钮添加鼠标单击事件
	  $("#btnLogin").click(function (){
	  
	  	$("#message").hide();
	 	//把表单的数据进行序列化
		var params = $("form").serialize();
		var username = document.getElementById("user_name").value;
		var userpwd = document.getElementById("user_password").value;
		//使用jQuery中的$.ajax({});Ajax方法
		$.ajax({
			url:"loginAction!login.action",
			type:"post",
			data:params,//要传递的数据
			dataType:"json",
			success:function(msg){
				var result=msg.result;
				if(username==null || username==""){
					$("#message").html("<div><font color='red'>用户名不能为空！</font></div>");
					$("#message").show();
				}else if(userpwd==null || userpwd==""){
					$("#message").html("<div><font color='red'>密码不能为空！</font></div>");
					$("#message").show();	
				}else if(result=="2"){
					//获取对象的数据用data.userInfo.属性
					$("#message").html("<div><font color='red'>用户名或密码错误！</font></div>");
					$("#message").show();
				}else{		
					location.href="frame"//?userInfo.userName="+username;
				}			
			},
		});
	  });
	  
	  
	  $("#btnRegiste").click(function (){
	  	$("#messageRes").hide();
	 	//把表单的数据进行序列化
		var params = $("form").serialize();
		var username = document.getElementById("user_name1").value;
		var userpwd = document.getElementById("user_password1").value;
		var useremail = document.getElementById("user_email").value;
		if(!(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*([,;][,;\s]*(\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*)*)*$/.test(useremail))){
				$("#messageRes").html("<div><font color='red'>邮箱格式错误！</font></div>");
				$("#messageRes").show();
				return false;	
		}
		//使用jQuery中的$.ajax({});Ajax方法
		$.ajax({
			url:"registeAction!registe.action",
			type:"post",
			data:params,//要传递的数据
			dataType:"json",
			success:function(msg){
				var result=msg.result;
				if(username==null || username==""){
					$("#messageRes").html("<div><font color='red'>用户名不能为空！</font></div>");
					$("#messageRes").show();
				}else if(useremail==null || useremail==""){
					$("#messageRes").html("<div><font color='red'>邮箱不能为空！</font></div>");
					$("#messageRes").show();	
				}else if(userpwd==null || userpwd==""){
					$("#messageRes").html("<div><font color='red'>密码不能为空！</font></div>");
					$("#messageRes").show();
				}else if(result=="2"){
					//获取对象的数据用data.userInfo.属性
					$("#messageRes").html("<div><font color='red'>用户名已存在！</font></div>");
					$("#messageRes").show();
					/* $("#messageRes").append("<div><font color='red'>用户名已存在！</font></div>"); */
				}else{		
					location.href="frame"//?userInfo.userName="+username;
				}			
			},
		});
	  });
	  
	});
	</script>
	

	<!--返回顶部-->
	<script type="text/javascript">
		$(function() {
			var $backToTopTxt = "", $backToTopEle = $(
					'<div class="backToTop"></div>').appendTo($("body")).text(
					$backToTopTxt).attr("title", $backToTopTxt).click(
					function() {
						$("html, body").animate({
							scrollTop : 0
						}, 120);
					}), $backToTopFun = function() {
				var st = $(document).scrollTop(), winh = $(window).height();
				(st > 0) ? $backToTopEle.show() : $backToTopEle.hide();
			};
			$(window).bind("scroll", $backToTopFun);
			$(function() {
				$backToTopFun();
			});
		});
	</script>

	<div style="display: none">
		<script language="javascript" type="text/javascript" src="http://js.users.51.la/15913623.js"></script>
	</div>
</body>

</html>